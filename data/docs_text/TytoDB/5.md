# Indexing
TytoDB performs its indexing with an on-disk hashmap, which stores two-item u64 tuples: the first 64-bit unsigned integer is the primary key (hashed using the ahash algorithm), and the second is the pointer to the row in the container. Indexing is used in most operations like insert, delete, edit, and search. It is employed during an insert to guarantee the uniqueness of a primary key (which is crucial for the indexing to keep working) and, for edit and delete operations, it can sometimes (depending on the query plan) be used to determine which rows must be affected by the operation.

```
+----------------------------------------------------------+
|                         INDEXING                         |
+----------------------------------------------------------+
| On-Disk HashMap                                          |
|  ------------------------------------------------------  |
|   Key:   u64 (hashed primary key)                        |
|   Value: u64 (pointer to row in container)               |
|  ------------------------------------------------------  |
|   Example Entry:                                         |
|      [ Hash(pk) ]  ->  [ Row Pointer ]                   |
|       0xA12F9E...       ->   42                          |
+----------------------------------------------------------+
| Operations Using Index:                                  |
|  - INSERT: check uniqueness of primary key before write  |
|  - DELETE: lookup key -> find row -> mark tombstone      |
|  - EDIT:   lookup key -> locate row -> apply changes     |
|  - SEARCH: lookup key -> direct pointer access           |
+----------------------------------------------------------+
```